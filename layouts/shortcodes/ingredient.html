{{- $amount := .Get "amount" | default 0 -}}
{{- $constant := .Get "constant" | default 0 -}}
{{- $unit := .Get "unit" | default "" -}}
{{- $name := .Get "name" -}}
{{- $plural := .Get "plural" | default $name -}}
{{- $note := .Get "note" | default "" -}}
{{- $optional := .Get "optional" | default false -}}
{{- $id := .Get "id" | default ($name | urlize) -}}
{{- $posthof := .Get "posthof" | default "" -}}

<li class="ingredient{{ if $posthof }} has-posthof{{ end }}{{ if $note }} has-note{{ end }}"
    id="ingredient-{{ $id }}"
    data-ingredient-id="{{ $id }}"
    data-base-amount="{{ $amount }}"
    data-constant="{{ $constant }}"
    data-unit="{{ $unit }}"
    data-name="{{ $name }}"
    data-plural="{{ $plural }}"
    {{ if $posthof }}data-posthof="{{ $posthof }}"{{ end }}>
  <div class="ingredient-main">
    <span class="ingredient-amount">{{ $amount }}</span>
    <span class="ingredient-unit">{{ $unit }}</span>
    <span class="ingredient-name-wrapper">
      <span class="ingredient-name">{{ if gt (float $amount) 1.0 }}{{ $plural }}{{ else }}{{ $name }}{{ end }}</span>
      {{- if $note -}}<span class="ingredient-note">{{ $note }}</span>{{- end -}}
    </span>
    {{- if $optional -}}<span class="ingredient-optional">(optional)</span>{{- end -}}
  </div>
  {{- if $posthof -}}
  <div class="posthof-info" data-loading="true">
    <span class="posthof-loading">Laden...</span>
  </div>
  {{- end -}}
</li>
